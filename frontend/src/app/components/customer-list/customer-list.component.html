<div class="container">
  <div class="header">
    <h1>Qu·∫£n L√Ω Kh√°ch H√†ng</h1>
    <button class="btn btn-primary" (click)="createCustomer()">
      <span class="icon">+</span> Th√™m Kh√°ch H√†ng
    </button>
  </div>

  <div class="search-bar">
    <input 
      type="text" 
      [(ngModel)]="searchKeyword" 
      (keyup.enter)="onSearch()"
      placeholder="T√¨m ki·∫øm theo t√™n, s·ªë ƒëi·ªán tho·∫°i..."
      class="search-input"
    />
    <button class="btn btn-secondary" (click)="onSearch()">T√¨m Ki·∫øm</button>
  </div>

  <div *ngIf="error" class="alert alert-error">
    {{ error }}
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
  </div>

  <div *ngIf="!loading && customers.length === 0" class="empty-state">
    <p>Kh√¥ng t√¨m th·∫•y kh√°ch h√†ng n√†o.</p>
  </div>

  <table *ngIf="!loading && customers.length > 0" class="customer-table">
    <thead>
      <tr>
        <th>M√£ KH</th>
        <th>H·ªç T√™n</th>
        <th>S·ªë ƒêi·ªán Tho·∫°i</th>
        <th>Email</th>
        <th>ƒê·ªãa Ch·ªâ</th>
        <th>Ng√†y T·∫°o</th>
        <th>Thao T√°c</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let customer of customers">
        <td>{{ customer.MaKhachHang }}</td>
        <td>{{ customer.HoTen }}</td>
        <td>{{ customer.SoDienThoai }}</td>
        <td>{{ customer.Email || 'N/A' }}</td>
        <td>{{ customer.DiaChi || 'N/A' }}</td>
        <td>{{ customer.NgayTao | date: 'dd/MM/yyyy' }}</td>
        <td class="actions">
          <button class="btn-icon btn-view" (click)="viewCustomer(customer.MaKhachHang)" title="Xem chi ti·∫øt">
            üëÅÔ∏è
          </button>
          <button class="btn-icon btn-edit" (click)="editCustomer(customer.MaKhachHang)" title="Ch·ªânh s·ª≠a">
            ‚úèÔ∏è
          </button>
          <button class="btn-icon btn-delete" (click)="deleteCustomer(customer)" title="X√≥a">
            üóëÔ∏è
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && totalPages > 1" class="pagination">
    <button 
      class="btn-page" 
      (click)="onPageChange(currentPage - 1)"
      [disabled]="currentPage === 1"
    >
      &laquo; Tr∆∞·ªõc
    </button>

    <button 
      *ngFor="let page of getPaginationPages()"
      class="btn-page"
      [class.active]="page === currentPage"
      (click)="onPageChange(page)"
    >
      {{ page }}
    </button>

    <button 
      class="btn-page" 
      (click)="onPageChange(currentPage + 1)"
      [disabled]="currentPage === totalPages"
    >
      Sau &raquo;
    </button>

    <span class="page-info">
      Trang {{ currentPage }} / {{ totalPages }} (T·ªïng: {{ totalItems }} kh√°ch h√†ng)
    </span>
  </div>
</div>
