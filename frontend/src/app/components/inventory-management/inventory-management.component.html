<div class="inventory-container">
  <div class="header-section">
    <h1>üì¶ Qu·∫£n L√Ω Kho H√†ng</h1>
    <p class="subtitle">Theo d√µi v√† qu·∫£n l√Ω t·ªìn kho</p>
  </div>

  <!-- Summary Cards -->
  <div class="summary-section" *ngIf="summary && !loading">
    <div class="summary-card">
      <div class="summary-icon">üìä</div>
      <p>T·ªïng SKU: {{ summary.totalItems }}</p>
    </div>
    <div class="summary-card">
      <div class="summary-icon">üè¢</div>
      <p>Chi Nh√°nh: {{ summary.totalBranches }}</p>
    </div>
    <div class="summary-card">
      <div class="summary-icon">üí∞</div>
      <p>Gi√° Tr·ªã Kho: {{ formatCurrency(summary.totalValue) }}</p>
    </div>
    <div class="summary-card alert">
      <div class="summary-icon">‚ö†Ô∏è</div>
      <p>C·∫£nh b√°o: {{ summary.lowStockCount + summary.outOfStockCount }}</p>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs-section">
    <button 
      *ngFor="let tab of ['inventory', 'alerts', 'import-export']"
      [class.active]="activeTab === tab"
      (click)="activeTab = tab"
      class="tab-btn"
    >
      {{ tab === 'inventory' ? 'üì¶ T·ªìn Kho' : tab === 'alerts' ? '‚ö†Ô∏è C·∫£nh B√°o' : 'üîÑ Nh·∫≠p/Xu·∫•t' }}
    </button>
  </div>

  <!-- Inventory Tab -->
  <div class="tab-content" *ngIf="activeTab === 'inventory'">
    <table class="inventory-table" *ngIf="inventories.length > 0">
      <thead>
        <tr>
          <th>S·∫£n Ph·∫©m</th>
          <th>Chi Nh√°nh</th>
          <th>S·ªë L∆∞·ª£ng</th>
          <th>Gi√°</th>
          <th>T·ªïng Gi√° Tr·ªã</th>
          <th>Tr·∫°ng Th√°i</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let inv of inventories" [class.low-stock]="inv.Status === 'Low Stock'" [class.out-of-stock]="inv.Status === 'Out of Stock'">
          <td class="product-name">{{ inv.TenSanPham }}</td>
          <td>{{ inv.TenChiNhanh }}</td>
          <td class="quantity">{{ inv.SoLuong }}</td>
          <td>{{ formatCurrency(inv.GiaThanh) }}</td>
          <td class="total-value">{{ formatCurrency(inv.TotalValue) }}</td>
          <td>
            <span class="status-badge" [ngClass]="inv.Status.toLowerCase().replace(' ', '-')">
              {{ getStatusBadge(inv.Status) }} {{ inv.Status }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Alerts Tab -->
  <div class="tab-content" *ngIf="activeTab === 'alerts'">
    <div class="alerts-list">
      <div class="alert-item" *ngFor="let alert of lowStockAlerts">
        <div class="alert-icon">‚ö†Ô∏è</div>
        <div class="alert-content">
          <p class="alert-product">{{ alert.TenSanPham }}</p>
          <p class="alert-info">{{ alert.TenChiNhanh }} - C√≤n {{ alert.CurrentStock }}/{{ alert.ThresholdLevel }}</p>
        </div>
        <div class="alert-deficit">Thi·∫øu: {{ alert.DeficitCount }}</div>
      </div>
    </div>
  </div>

  <!-- Import/Export Tab -->
  <div class="tab-content" *ngIf="activeTab === 'import-export'">
    <div class="transaction-forms">
      <div class="form-card">
        <h3>üì• Nh·∫≠p Kho</h3>
        <input [(ngModel)]="importData.MaChiNhanh" placeholder="Chi nh√°nh" />
        <input [(ngModel)]="importData.MaSanPham" type="number" placeholder="M√£ s·∫£n ph·∫©m" />
        <input [(ngModel)]="importData.SoLuong" type="number" placeholder="S·ªë l∆∞·ª£ng" />
        <textarea [(ngModel)]="importData.GhiChu" placeholder="Ghi ch√∫"></textarea>
        <button (click)="onImport()" class="btn-submit">‚úì Nh·∫≠p</button>
      </div>

      <div class="form-card">
        <h3>üì§ Xu·∫•t Kho</h3>
        <input [(ngModel)]="exportData.MaChiNhanh" placeholder="Chi nh√°nh" />
        <input [(ngModel)]="exportData.MaSanPham" type="number" placeholder="M√£ s·∫£n ph·∫©m" />
        <input [(ngModel)]="exportData.SoLuong" type="number" placeholder="S·ªë l∆∞·ª£ng" />
        <textarea [(ngModel)]="exportData.GhiChu" placeholder="Ghi ch√∫"></textarea>
        <button (click)="onExport()" class="btn-submit">‚úì Xu·∫•t</button>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div class="pagination-section" *ngIf="inventories.length > 0 && activeTab === 'inventory'">
    <button [disabled]="currentPage === 1" (click)="onPageChange(1)" class="pagination-btn">‚èÆÔ∏è</button>
    <button [disabled]="currentPage === 1" (click)="onPageChange(currentPage - 1)" class="pagination-btn">‚óÄÔ∏è</button>
    <span class="page-indicator">{{ currentPage }}</span>
    <button (click)="onPageChange(currentPage + 1)" class="pagination-btn">‚ñ∂Ô∏è</button>
  </div>
</div>
